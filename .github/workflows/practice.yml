name: Pratice

on:
  workflow_dispatch:

jobs:

  build:
    name: Practice
    runs-on: ubuntu-18.04

    steps:
    - uses: actions/checkout@v2
    
    - name: Generate files
      run: |
        apt update && apt install -y gzip
        mkdir testfolder
        cd testfolder
        touch testfile1 openwrt-initramfs.bin testfile2.tmp openwrt-sysupgrade1.bin openwrt-sysupgrade2.bin
    
    - name: Compress Firmware
      run: |
        cd testfolder
        gzip -9 *sysupgrade?.bin

    - name : ğŸš€ Upload Artifact - Fullpack(all ipks included)
      uses: actions/upload-artifact@v2
      with:
        name: OpenWrt-Fullpack
        path: |
          testfolder/
          !testfolder/*.bin
          !testfolder/*.gz

    - name : ğŸš€ Upload Artifact - Firemware
      uses: actions/upload-artifact@v2
      with:
        name: OpenWrt-Firmware
        path: |
          testfolder/
          testfolder/*.gz

    - name: âœŒï¸ Finale
      run: echo "This job's status is ${{ job.status }}."
